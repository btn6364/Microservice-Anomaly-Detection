{"data": [{"traceID": "478cc008fe2afd5d", "spans": [{"traceID": "478cc008fe2afd5d", "spanID": "54fe27ae66bf52a1", "flags": 1, "operationName": "GET", "references": [{"refType": "CHILD_OF", "traceID": "478cc008fe2afd5d", "spanID": "478cc008fe2afd5d"}], "startTime": 1657712816702000, "duration": 899696, "tags": [{"key": "http.status_code", "type": "int64", "value": 200}, {"key": "component", "type": "string", "value": "java-spring-rest-template"}, {"key": "span.kind", "type": "string", "value": "client"}, {"key": "http.url", "type": "string", "value": "http://ts-order-service:12031/api/v1/orderservice/order"}, {"key": "peer.port", "type": "int64", "value": 12031}, {"key": "http.method", "type": "string", "value": "GET"}, {"key": "internal.span.format", "type": "string", "value": "proto"}], "logs": [], "processID": "p1", "warnings": null}, {"traceID": "478cc008fe2afd5d", "spanID": "9862dfcc94ff7122", "flags": 1, "operationName": "findAllOrder", "references": [{"refType": "CHILD_OF", "traceID": "478cc008fe2afd5d", "spanID": "97e182874c7c56b2"}], "startTime": 1657712817818000, "duration": 435179, "tags": [{"key": "http.status_code", "type": "int64", "value": 200}, {"key": "http.url", "type": "string", "value": "http://ts-admin-order-service:16112/api/v1/orderOtherService/orderOther"}, {"key": "component", "type": "string", "value": "java-web-servlet"}, {"key": "span.kind", "type": "string", "value": "server"}, {"key": "http.method", "type": "string", "value": "GET"}, {"key": "internal.span.format", "type": "string", "value": "proto"}], "logs": [{"timestamp": 1657712817950000, "fields": [{"key": "event", "type": "string", "value": "preHandle"}, {"key": "handler", "type": "string", "value": "public org.springframework.http.HttpEntity other.controller.OrderOtherController.findAllOrder(org.springframework.http.HttpHeaders)"}, {"key": "handler.class_simple_name", "type": "string", "value": "OrderOtherController"}, {"key": "handler.method_name", "type": "string", "value": "findAllOrder"}]}, {"timestamp": 1657712818250000, "fields": [{"key": "event", "type": "string", "value": "afterCompletion"}, {"key": "handler", "type": "string", "value": "public org.springframework.http.HttpEntity other.controller.OrderOtherController.findAllOrder(org.springframework.http.HttpHeaders)"}]}], "processID": "p2", "warnings": ["clock skew adjustment disabled; not applying calculated delta of -9.253ms"]}, {"traceID": "478cc008fe2afd5d", "spanID": "478cc008fe2afd5d", "flags": 1, "operationName": "getAllOrders", "references": [], "startTime": 1657712812506000, "duration": 6201719, "tags": [{"key": "http.status_code", "type": "int64", "value": 200}, {"key": "component", "type": "string", "value": "java-web-servlet"}, {"key": "span.kind", "type": "string", "value": "server"}, {"key": "sampler.type", "type": "string", "value": "const"}, {"key": "sampler.param", "type": "bool", "value": true}, {"key": "http.url", "type": "string", "value": "http://ts-admin-order-service:16112/api/v1/adminorderservice/adminorder"}, {"key": "http.method", "type": "string", "value": "GET"}, {"key": "internal.span.format", "type": "string", "value": "proto"}], "logs": [{"timestamp": 1657712815196000, "fields": [{"key": "event", "type": "string", "value": "preHandle"}, {"key": "handler", "type": "string", "value": "public org.springframework.http.HttpEntity adminorder.controller.AdminOrderController.getAllOrders(org.springframework.http.HttpHeaders)"}, {"key": "handler.class_simple_name", "type": "string", "value": "AdminOrderController"}, {"key": "handler.method_name", "type": "string", "value": "getAllOrders"}]}, {"timestamp": 1657712818697000, "fields": [{"key": "event", "type": "string", "value": "afterCompletion"}, {"key": "handler", "type": "string", "value": "public org.springframework.http.HttpEntity adminorder.controller.AdminOrderController.getAllOrders(org.springframework.http.HttpHeaders)"}]}], "processID": "p1", "warnings": null}, {"traceID": "478cc008fe2afd5d", "spanID": "97e182874c7c56b2", "flags": 1, "operationName": "GET", "references": [{"refType": "CHILD_OF", "traceID": "478cc008fe2afd5d", "spanID": "478cc008fe2afd5d"}], "startTime": 1657712817802000, "duration": 448673, "tags": [{"key": "http.status_code", "type": "int64", "value": 200}, {"key": "component", "type": "string", "value": "java-spring-rest-template"}, {"key": "span.kind", "type": "string", "value": "client"}, {"key": "http.url", "type": "string", "value": "http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther"}, {"key": "peer.port", "type": "int64", "value": 12032}, {"key": "http.method", "type": "string", "value": "GET"}, {"key": "internal.span.format", "type": "string", "value": "proto"}], "logs": [], "processID": "p1", "warnings": null}], "processes": {"p1": {"serviceName": "ts-admin-order-service", "tags": [{"key": "hostname", "type": "string", "value": "ts-admin-order-service-54d7b8c5d-4g4fs"}, {"key": "ip", "type": "string", "value": "10.131.0.241"}, {"key": "jaeger.version", "type": "string", "value": "Java-0.30.6"}]}, "p2": {"serviceName": "ts-order-other-service", "tags": [{"key": "hostname", "type": "string", "value": "ts-order-other-service-57489b469f-h8dg5"}, {"key": "ip", "type": "string", "value": "10.128.5.66"}, {"key": "jaeger.version", "type": "string", "value": "Java-0.30.6"}]}}, "warnings": null}, {"traceID": "dc13c5788075d01a", "spans": [{"traceID": "dc13c5788075d01a", "spanID": "dc13c5788075d01a", "flags": 1, "operationName": "GET", "references": [], "startTime": 1657713057034000, "duration": 6715, "tags": [{"key": "http.status_code", "type": "int64", "value": 500}, {"key": "component", "type": "string", "value": "java-web-servlet"}, {"key": "span.kind", "type": "string", "value": "server"}, {"key": "sampler.type", "type": "string", "value": "const"}, {"key": "sampler.param", "type": "bool", "value": true}, {"key": "http.url", "type": "string", "value": "http://ts-admin-order-service:16112/api/v1/adminorderservice/adminorder"}, {"key": "error", "type": "bool", "value": true}, {"key": "http.method", "type": "string", "value": "GET"}, {"key": "internal.span.format", "type": "string", "value": "proto"}], "logs": [{"timestamp": 1657713057041000, "fields": [{"key": "event", "type": "string", "value": "error"}, {"key": "message", "type": "string", "value": "Token is not properly constructed"}, {"key": "stack", "type": "string", "value": "edu.fudan.common.exception.TokenException: Token is not properly constructed\n\tat edu.fudan.common.security.jwt.JWTUtil.validateToken(JWTUtil.java:109)\n\tat edu.fudan.common.security.jwt.JWTUtil.getJWTAuthentication(JWTUtil.java:36)\n\tat edu.fudan.common.security.jwt.JWTFilter.doFilterInternal(JWTFilter.java:25)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:100)\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat io.opentracing.contrib.web.servlet.filter.TracingFilter.doFilter(TracingFilter.java:174)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n\tat java.lang.Thread.run(Thread.java:745)\n"}]}], "processID": "p1", "warnings": null}, {"traceID": "dc13c5788075d01a", "spanID": "c243f93c1fde161a", "flags": 1, "operationName": "error", "references": [{"refType": "FOLLOWS_FROM", "traceID": "dc13c5788075d01a", "spanID": "dc13c5788075d01a"}], "startTime": 1657713057300000, "duration": 108418, "tags": [{"key": "internal.span.format", "type": "string", "value": "proto"}], "logs": [{"timestamp": 1657713057300000, "fields": [{"key": "event", "type": "string", "value": "preHandle"}, {"key": "handler", "type": "string", "value": "public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)"}, {"key": "handler.class_simple_name", "type": "string", "value": "BasicErrorController"}, {"key": "handler.method_name", "type": "string", "value": "error"}]}, {"timestamp": 1657713057408000, "fields": [{"key": "event", "type": "string", "value": "afterCompletion"}, {"key": "handler", "type": "string", "value": "public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)"}]}], "processID": "p1", "warnings": null}], "processes": {"p1": {"serviceName": "ts-admin-order-service", "tags": [{"key": "hostname", "type": "string", "value": "ts-admin-order-service-54d7b8c5d-4g4fs"}, {"key": "ip", "type": "string", "value": "10.131.0.241"}, {"key": "jaeger.version", "type": "string", "value": "Java-0.30.6"}]}}, "warnings": null}], "total": 0, "limit": 0, "offset": 0, "errors": null}